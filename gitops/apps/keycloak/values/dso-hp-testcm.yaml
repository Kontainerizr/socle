keycloak:
  global:
    imageRegistry: <path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#global | jsonPath {.imageRegistry}>
  image:
    registry: <path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#image | jsonPath {.registry}>
  initContainers:
    - name: realm-ext-provider
      image: <path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#global | jsonPath {.imageRegistry}>/curlimages/curl:<path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#initcontainers | jsonPath {.curlVersion}>
      imagePullPolicy: IfNotPresent
      command:
        - sh
      args:
        - -c
        - curl -k -L -f -S -o /emptydir/app-providers-dir/keycloak-theme-dsfr.jar <path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#initcontainers | jsonPath {.pluginDownloadUrl}>
      volumeMounts:
        - name: empty-dir
          mountPath: /emptydir
  ingress:
    ingressClassName: <path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#ingress | jsonPath {.ingressClassName}>
    hostname: <path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#ingress | jsonPath {.hostname}>
    annotations:
      cert-manager.io/cluster-issuer: <path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#ingress | jsonPath {.annotations.cluster-issuer}>
  podSecurityContext:
    enabled: <path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#podSecurityContext | jsonPath {.enabled}>
    fsGroup: <path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#podSecurityContext | jsonPath {.fsGroup} | jsonParse>
