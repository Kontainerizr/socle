keycloak:
  global:
    imageRegistry: <path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#global | jsonPath {.imageRegistry}>
  image:
    registry: <path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#image | jsonPath {.registry}>
  auth:
    adminUser: <path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#auth | jsonPath {.adminUser}>
    adminPassword: <path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#auth | jsonPath {.adminPassword}>
  initContainers:
    - name: realm-ext-provider
      image: <path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#global | jsonPath {.imageRegistry}>/curlimages/curl:8.8.0
      imagePullPolicy: IfNotPresent
      command:
        - sh
      args:
        - -c
        - curl -k -L -f -S -o /emptydir/app-providers-dir/keycloak-theme-dsfr.jar https://github.com/codegouvfr/keycloak-theme-dsfr/releases/download/v2.1.4/keycloak-theme-for-kc-26-and-above.jar
      volumeMounts:
        - name: empty-dir
          mountPath: /emptydir
  ingress:
    ingressClassName: <path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#ingress | jsonPath {.ingressClassName}>
    hostname: <path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#ingress | jsonPath {.hostname}>
    annotations:
      cert-manager.io/cluster-issuer: <path:forge-dso/data/env/dso-hp-testcm/apps/keycloak/values#ingress | jsonPath {.annotations.cluster-issuer}>
